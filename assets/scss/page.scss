page {
  background-color: var(--page-background-color);
  font-family: var(--body-font);
  color: var(--text-color);
  font-size: var(--body-font-size);
  line-height: var(--body-line-height);
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-family: var(--header-font);
  }
  width: 100vw;
  display: block;
  margin-top: var(--header-height);
}

page.branch-bundle {
  article {
    box-sizing: border-box;
    width: 100vw;
    height: 40vw;
    position: relative;
    &.header-image {
      background-image:
      linear-gradient(
        rgba(255, 255, 255, 1) 0%,
        rgba(255, 255, 255, 1) 5%,
        rgba(255, 255, 255, 0) 15%,
        rgba(255, 255, 255, 0) 90%,
        rgba(255, 255, 255, 1) 95%,
        rgba(255, 255, 255, 1) 100%,
        ),
      var(--header-image);
      background-size: 100%;
    }
    & > a {
      display: block;
      padding: 0 1.5em;
      background-color: rgba(255, 255, 255, .7);
      backdrop-filter: blur(10px);
      box-sizing: border-box;
      border: 2px solid grey;
      border-radius: 1.5em;
      width: 80vw;
      height: 30vw;
      margin: 0 10vw 10vw;
      position: relative;
      top: 5vw;
    }
    a {
      text-decoration: none;
    }
    .title {
      font-family: var(--header-font);
      font-size: unset;
      color: var(--article-head-color);
    }
    .summary {
      text-decoration: none;
    }
  }
}

page.leaf-bundle {
  img.headerimage:first-child {
    width: 100%;
  }
  div.main-columns {
    display: flex;
    gap: var(--gap-between-columns);
    justify-content: flex-start;
    width: 100vw;
    padding-top: 1.5em;

    @import "metadata.scss";

    .progress-bar {
      width: 100vw;
      height: var(--progress-bar-height);
      box-sizing: border-box;
      border-left-color: var(--progress-bar-color);
      border-left-style: solid;
      border-left-width: calc(var(--progress-in-document) * 100vw);
      z-index: 2;
      position: fixed;
      top: calc(var(--header-height));
      left: 0;
    }
    .left-column {
      width: var(--left-column-width);
      margin: 0 0.2em;
      flex-shrink: 0;
    }
    article {
      min-width: 0;
      flex-grow: 1;
      flex-shrink: 1;
      span.sliding-into-header-title > h1 {
        @include blindFadeIn;
        font-family: var(--header-font);
        font-size: unset;
        color: var(--article-head-color);
        border-left: 0.8em solid var(--article-head-accentuator-color);
        padding-left: 0.3em;
        margin-left: calc(var(--site-logo-width) - var(--left-column-width));
        margin-top: 0;

        &.show-possible-second-line {
          position: absolute;
          &::first-line {
            opacity: 0;
          }
        }

        &.slide-into-header {
          &::before {
            content: "\2500";
            display: inline-block;
            width: 1em;
            color: var(--article-head-accentuator-color);
            position: absolute;
            transform: translateX(calc(-100% - 1px));
          }
          position: sticky;
          top: calc(
            var(--header-height) / 2 - 1em * var(--body-line-height) / 2
          );
          z-index: 3;
          border-left-color: transparent;
          color: transparent;
          &::first-line {
            color: var(--article-head-color);
          }
        }
      }
      .single-content {
        margin: 1em;
        @import "code.scss";
        a {
          text-decoration: inherit;
          color: var(--link-color);
        }
        > figure {
          margin: 2em 1em;
          > img {
            max-width: 100%;
          }
          > figcaption {
            font-family: var(--header-font);
            font-size: 0.8em;
            text-align: center;
            color: var(--caption-color);
            > p:first-child {
              margin-top: 0;
            }
            > p:last-child {
              margin-bottom: 0;
            }
          }
        }
        > details {
          margin: 2em 1em;
        }
      }
    }
    @import "toc.scss";
  }
  @import "notes.scss";
}
